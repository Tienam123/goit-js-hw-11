{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(articles) {\n  return articles.map(el => {\n    return `\n  <li class=\"gallery-item\">\n   <a href=\"${el.largeImageURL}\">\n   <img src=\"${el.webformatURL}\"\n        loading=\"lazy\"\n        alt=\"${el.tags}\"\n            >\n       <ul class=\"gallery__description-list gallery-description-list\">\n         <li class=\"gallery-description-list__item\">\n           <h3>Likes</h3>\n           <p>${el.likes}</p>\n         </li>\n         <li class=\"gallery-description-list__item\">\n           <h3>Views</h3>\n           <p>${el.views}</p>\n         </li>\n         <li class=\"gallery-description-list__item\">\n           <h3>Comments</h3>\n           <p>${el.comments}</p>\n         </li>\n         <li class=\"gallery-description-list__item\">\n           <h3>Downloads</h3>\n           <p>${el.downloads}</p>\n         </li>\n       </ul>\n       </a>\n  </li>`;\n  })\n    .join('');\n}\n\n\n\n\nexport class Loader {\nstatic spinner = document.querySelector('.loader-backdrop');\n  static show() {\n    Loader.spinner.classList.remove('hidden');\n  }\n\n static hide() {\n    Loader.spinner.classList.add('hidden');\n  }\n}","import { Loader } from './render-functions.js';\nimport iziToast from 'izitoast';\n\nconst API_KEY = '41512134-7ce1694d07a59eb7d39c787c8';\n\nexport class PixabayApiService {\n  constructor() {\n    this.searchQuery = '';\n  }\n\n  fetchArticles() {\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${this.searchQuery}&image_type=\"photo\"&orientation=\"horisontal\"&safesearch=\"true\"`;\n    Loader.show();\n    return fetch(url)\n      .then(responce => responce.json())\n      .then(data => {\n        Loader.hide();\n        return data;\n      })\n      .catch(err => {\n        iziToast.show({\n          message: err.message,\n          backgroundColor: '#fc3d03',\n          messageColor: '#fff',\n          close: false,\n          progressBarColor: '#fff',\n          position: 'topRight',\n          timeout: 1000,\n        });\n      });\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n}","import { PixabayApiService } from './js/pixabay-api.js';\nimport { createMarkup } from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  searchForm: document.querySelector('.js-form'),\n  gallery: document.querySelector('.js-gallery'),\n};\n\nconst pixabayApiService = new PixabayApiService();\n\nrefs.searchForm.addEventListener('submit', handleSubmitForm);\n\nfunction handleSubmitForm(event) {\n  event.preventDefault();\n  let inputValue = event.target.elements.query.value.trim();\n  if (inputValue === '') {\n    iziToast.show({\n      message: 'Поле не может быть пустым',\n      backgroundColor: '#fc3d03',\n      messageColor: '#fff',\n      close: false,\n      progressBarColor: '#fff',\n      position: 'topRight',\n      timeout: 1000,\n    });\n    return;\n  }\n  if (inputValue.length > 100) {\n    iziToast.show({\n      message: 'Поле не может быть больше 100 символов',\n      backgroundColor: '#fc3d03',\n      messageColor: '#fff',\n      close: false,\n      progressBarColor: '#fff',\n      position: 'topRight',\n      timeout: 1000,\n    });\n  }\n  inputValue = inputValue.split(' ')\n    .join('+');\n  pixabayApiService.query = inputValue;\n  refs.gallery.innerHTML = '';\n  pixabayApiService.fetchArticles()\n    .then(articles => {\n      if (!articles.hits.length) {\n        iziToast.show({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          backgroundColor: '#fc3d03',\n          messageColor: '#fff',\n          close: false,\n          progressBarColor: '#fff',\n          position: 'topRight',\n          timeout: 1000,\n        });\n      } else {\n        refs.gallery.insertAdjacentHTML('afterbegin', createMarkup(articles.hits));\n        let gallery = new SimpleLightbox('.gallery a', {\n          captions: true,\n          captionsData: 'alt',\n          captionPosition: 'bottom',\n          captionDelay: 250,\n        });\n      }\n    });\n}\n\n\n\n"],"names":["createMarkup","articles","el","_Loader","__publicField","Loader","API_KEY","PixabayApiService","url","responce","data","err","iziToast","newQuery","refs","pixabayApiService","handleSubmitForm","event","inputValue","SimpleLightbox"],"mappings":"q6BAAO,SAASA,EAAaC,EAAU,CACrC,OAAOA,EAAS,IAAIC,GACX;AAAA;AAAA,cAEGA,EAAG,aAAa;AAAA,eACfA,EAAG,YAAY;AAAA;AAAA,eAEfA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gBAKNA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,gBAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,gBAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,gBAIXA,EAAG,SAAS;AAAA;AAAA;AAAA;AAAA,QAKzB,EACE,KAAK,EAAE,CACZ,CAKO,MAAMC,EAAN,MAAMA,CAAO,CAElB,OAAO,MAAO,CACZA,EAAO,QAAQ,UAAU,OAAO,QAAQ,CACzC,CAEF,OAAO,MAAO,CACXA,EAAO,QAAQ,UAAU,IAAI,QAAQ,CACtC,CACH,EARAC,EADaD,EACN,UAAU,SAAS,cAAc,kBAAkB,GADnD,IAAME,EAANF,ECjCP,MAAMG,EAAU,qCAET,MAAMC,CAAkB,CAC7B,aAAc,CACZ,KAAK,YAAc,EACpB,CAED,eAAgB,CACd,MAAMC,EAAM,gCAAgCF,CAAO,MAAM,KAAK,WAAW,iEACzE,OAAAD,EAAO,KAAI,EACJ,MAAMG,CAAG,EACb,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,IACJL,EAAO,KAAI,EACJK,EACR,EACA,MAAMC,GAAO,CACZC,EAAS,KAAK,CACZ,QAASD,EAAI,QACb,gBAAiB,UACjB,aAAc,OACd,MAAO,GACP,iBAAkB,OAClB,SAAU,WACV,QAAS,GACnB,CAAS,CACT,CAAO,CACJ,CAED,IAAI,OAAQ,CACV,OAAO,KAAK,WACb,CAED,IAAI,MAAME,EAAU,CAClB,KAAK,YAAcA,CACpB,CAEH,CChCA,MAAMC,EAAO,CACX,WAAY,SAAS,cAAc,UAAU,EAC7C,QAAS,SAAS,cAAc,aAAa,CAC/C,EAEMC,EAAoB,IAAIR,EAE9BO,EAAK,WAAW,iBAAiB,SAAUE,CAAgB,EAE3D,SAASA,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,IAAIC,EAAaD,EAAM,OAAO,SAAS,MAAM,MAAM,OACnD,GAAIC,IAAe,GAAI,CACrBN,EAAS,KAAK,CACZ,QAAS,4BACT,gBAAiB,UACjB,aAAc,OACd,MAAO,GACP,iBAAkB,OAClB,SAAU,WACV,QAAS,GACf,CAAK,EACD,MACD,CACGM,EAAW,OAAS,KACtBN,EAAS,KAAK,CACZ,QAAS,yCACT,gBAAiB,UACjB,aAAc,OACd,MAAO,GACP,iBAAkB,OAClB,SAAU,WACV,QAAS,GACf,CAAK,EAEHM,EAAaA,EAAW,MAAM,GAAG,EAC9B,KAAK,GAAG,EACXH,EAAkB,MAAQG,EAC1BJ,EAAK,QAAQ,UAAY,GACzBC,EAAkB,cAAe,EAC9B,KAAKd,GAAY,CACXA,EAAS,KAAK,QAWjBa,EAAK,QAAQ,mBAAmB,aAAcd,EAAaC,EAAS,IAAI,CAAC,EAC3D,IAAIkB,EAAe,aAAc,CAC7C,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GACxB,CAAS,GAhBDP,EAAS,KAAK,CACZ,QAAS,2EACT,gBAAiB,UACjB,aAAc,OACd,MAAO,GACP,iBAAkB,OAClB,SAAU,WACV,QAAS,GACnB,CAAS,CAUT,CAAK,CACL"}